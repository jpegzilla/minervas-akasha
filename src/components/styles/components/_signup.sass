@use "sass:color"
@use "./utils/vars"

$font: vars.$proggy

#login-signup
  +vars.flexcenter

  height: 100vh
  width: 100vw
  position: absolute
  animation: fadein 0.5s ease-out forwards
  isolation: isolate
  overflow: hidden

  &.fadeout
    animation: fadeout 0.5s ease-out forwards

  +vars.spinning-squares

  #form-container
    +vars.flexcenter

    z-index: 2
    flex-direction: column
    background-color: color.adjust(vars.$black, $alpha: -0.17)
    width: 100%
    height: 100%

    &.shake
      animation: shake 0.25s linear forwards

    .login-link
      margin-top: 1rem

      a
        color: vars.$white
        font-family: $font

        &:active
          color: vars.$pink

    form
      input, button
        padding: 0.75rem 1.25rem
        font-size: 1rem
        border-radius: 1px

        &:focus
          outline: 1px solid vars.$pink
          transition: outline 0.5s ease

      input::placeholder, input, button
        font-family: $font

      input
        transition: border-color 0.5s ease
        background-color: transparent
        border: 1px solid vars.$white
        color: vars.$white

      button
        width: 100%

        // background-color: $white
        border: none
        cursor: pointer
        position: relative
        isolation: isolate

        span
          z-index: 1
          display: block
          position: relative
          color: vars.$black

        b
          z-index: 0
          top: 0
          right: 0
          height: 0
          transition: height 0.5s ease
          background-color: vars.$success
          display: block
          position: absolute
          width: 100%

        &.valid b
          height: 100%
          transition: height 0.5s ease 0.5s

      b
        // transition: background-color 0.5s ease
        // make these bars thinner and longer?
        display: block
        height: 2rem
        background-color: vars.$white
        margin-left: 1rem
        width: 0.15rem
        position: relative

        b
          position: absolute
          top: 0
          right: 0
          height: 0
          transition: height 0.5s ease
          background-color: vars.$success

          &:last-of-type
            transition-delay: 0.5s

      div.valid
        & input:focus
          transition: outline 0.5s ease
          outline: 1px solid vars.$success

      div.valid > input
        transition: border-color 0.5s ease
        border: 1px solid vars.$success

      div.valid + b > b
        // transition: background-color 0.5s ease
        height: 100%
        transition: height 0.5s ease
