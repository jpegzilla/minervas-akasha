@use "sass:color"
@use "../utils/vars"
@use "../signup"


.record-viewer-window
  background-color: color.adjust(vars.$darkerblue, $alpha: -0.1)
  backdrop-filter: saturate(180%) blur(1rem)

  .record-viewer-header
    margin-bottom: 0

  .record-viewer-container
    display: flex
    flex-direction: column
    width: 100%
    height: 100%

    & > * > *
      padding: vars.$halfgap

    header
      border-bottom: 1px solid var(--text-main)

      .record-viewer-tabs
        ul
          list-style-type: none
          display: flex

          li
            cursor: pointer
            padding: 0.25rem 0.5rem
            border: 1px solid vars.$nondest
            background-color: color.adjust(vars.$nondest, $alpha: -0.85)

            &:first-child
              pointer-events: none
              cursor: default
              border: 1px solid vars.$disabled
              background-color: color.adjust(vars.$disabled, $alpha: -0.85)

            &.active
              border: 1px solid vars.$yellow
              background-color: color.adjust(vars.$yellow, $alpha: -0.85)

          li + li
            margin-left: vars.$halfgap

      div + div
        border-top: 1px solid var(--text-main)

    footer
      padding: 0.5rem 1rem

      div
        padding: 0

    .record-viewer-main
      display: flex
      flex-grow: 1

      .record-viewer-records
        // the width that the records area would have with the maximum column count
        min-width: 29rem
        padding-bottom: 1rem
        display: grid
        grid-gap: vars.$halfgap
        grid-template-columns: repeat(3, max-content)
        grid-template-rows: repeat(auto-fill, 1.5rem)
        grid-auto-flow: row dense

        .record-viewer-record
          +vars.flexcenter(true)

          cursor: pointer
          user-select: none
          border: 1px solid var(--text-main)
          padding: 0.25rem 0.5rem

          &.color-hypostasis
            border: 1px solid vars.$hypo
            background-color: color.adjust(vars.$hypo, $alpha: -0.85)
          &.color-athenaeum
            border: 1px solid vars.$ath
            background-color: color.adjust(vars.$ath, $alpha: -0.85)
          &.color-grimoire
            border: 1px solid vars.$gri
            background-color: color.adjust(vars.$gri, $alpha: -0.85)
          &.color-node
            border: 1px solid vars.$node
            background-color: color.adjust(vars.$node, $alpha: -0.85)
          &.color-shard
            border: 1px solid vars.$shard
            background-color: color.adjust(vars.$shard, $alpha: -0.85)

      .record-viewer-sidebar
        border-right: 1px solid var(--text-main)
        padding: 0
        min-width: 10.724625â€¬

        .record-viewer-sidebar-container
          display: flex
          height: 100%

          .record-viewer-sidebar-info
            +vars.itemlist(vars.$white, true, 0.35rem)

            flex-grow: 1

            header, .record-connections-header, ul
              padding: vars.$halfgap

            .record-connections-header
              border-bottom: 1px solid var(--text-main)

            ul
              +vars.no-scrollbar

              max-height: 40vh

              li
                &.parent-record
                  border-left: 2px solid vars.$pink
                  background-color: color.adjust(vars.$pink, $alpha: -0.65)

                  &:hover
                    background-color: color.adjust(vars.$pink, $alpha: -0.8)

          .record-viewer-sidebar-info-collapse
            height: 100%

    footer
      border-top: 1px solid var(--text-main)

  input
    padding: 0.5rem
    font-size: 1rem
    border-radius: 1px

    &:focus
      outline: 1px solid vars.$pink
      transition: outline 0.5s ease

  input::placeholder, input
    font-family: signup.$font

  input
    transition: border-color 0.5s ease
    background-color: transparent
    border: 1px solid vars.$white
    color: vars.$white

  label + label
    margin-left: 0.5rem
